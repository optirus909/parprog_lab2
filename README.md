# Лабораторная работа 2 по параллельному программированию

## Вариант 1г

```c
for (i = 0; i < ISIZE; i++)
{
  for (j = 0; j < JSIZE; j++)
  { 
    a[i][j] = 10*i +j;
  } 
}

for (i = 1; i < ISIZE - 1; i++)
{ 
  for (j = 6; j < JSIZE - 1; j++)
  {
    a[i][j] = sin(0.00001*a[i + 1][j - 6]);
  }
}
```

Нормализуем циклы, т.е приведем их к виду

```c
for (i = 0; i < i_fin; i++)
{ 
  for (j = 0; j < j_fin; j++)
  {
    ....
  }
}
```

и вычислим вектор расстояний зависимости и вектор направлений.

```math
D = (i, j) - (i-1, j-3) = (1, 3)
d = (<, <)
```
Тут присутствует истинная зависимость. При этом внутренний цикл не содержит зависимостей и может быть без ограничений распареллелен. При таком распараллеливании требуется барьерная синхронизация по окончании внутреннего цикла. Распараллеливание по внешнему циклу и двум циклам невозможно. Внутренний и внешний цикл при распараллеливании можно менять местами.

## Вариант 1д

Аналогично 1г:

```math
D = (i, j) - (i+1, j-6) = (-1, 6)
d = (>, <)
```
Тут присутствует антизависимость. При этом внутренний цикл может быть распараллелен по 6 или меньше процессам. Распараллеливание по внешнему циклу или по двум направлениям допустимо при предварительном резервировании входных данных.

